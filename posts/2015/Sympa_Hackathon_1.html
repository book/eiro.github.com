<!DOCTYPE html><html>
<head><meta charset="utf-8" />
<meta http-equiv="x-ua-compatible" content="ie=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />
<link rel="stylesheet" href="../../unsemantic.css"/>
<link rel="stylesheet" href="../../theme.css" />
<link href='http://fonts.googleapis.com/css?family=Orbitron' rel='stylesheet' type='text/css'> 


<title>Sympa Hackathon 1</title>




</head><body>
    <div id="wrapper"><header role="banner" class="grid-container">
    <div class="grid-100"><h1>The silence of Plato</h1>
</div></header>
  <main role="main" class="grid-container">
  <div class="grid-20">
      <section><a href="mailto:blog-eiro@groups.perlists.pm?Subject=Re:%20posts.2014.Sympa.Hackathon.1.md&In-Reply-To=posts.2014.Sympa.Hackathon.1.md@eiro.github.com">comment this post</a><br/><a href="https://groups.perlists.pm/sympa/?subj=true&key_word=Re:%20posts.2014.Sympa.Hackathon.1.md&action=arcsearch&list=blog-eiro&body=false">see other comments</a><br/><a href="https://groups.perlists.pm/sympa//subscribe/blog-eiro">stay tuned</a><br/><a href="/news.html">other news</a><br/><a href="/">the author</a></section>
      <hr/>
      <nav id="TOC"><ul>
<li><a href="#retour-sur-les-usages-et-évolution-de-sympa">Retour sur les usages et évolution de sympa</a><ul>
<li><a href="#les-nouveaux-usages-de-sympa-groupware">les nouveaux usages de sympa (groupware)</a></li>
<li><a href="#lintégration-dans-les-systèmes-dinformation">L'intégration dans les systèmes d'information</a></li>
</ul></li>
<li><a href="#sympa-7">Sympa 7</a><ul>
<li><a href="#techniquement">Techniquement</a><ul>
<li><a href="#pour-les-développeurs">Pour les développeurs</a></li>
<li><a href="#pour-les-administrateurs">Pour les administrateurs</a></li>
</ul></li>
<li><a href="#fonctionnellement">Fonctionnellement</a></li>
</ul></li>
<li><a href="#travail-commencé-durant-le-workshop">Travail commencé durant le Workshop</a></li>
<li><a href="#liste-de-mes-attentes-en-vrac">Liste de mes attentes en vrac</a></li>
<li><a href="#notes-pour-plus-tard">Notes pour plus tard</a></li>
</ul></nav>
<a href="../../atom.xml"><img src="http://upload.wikimedia.org/wikipedia/en/4/43/Feed-icon.svg" alt="[Valid Atom 1.0]" title="my atom" id="atomLink" /></a>
<a href="http://validator.w3.org/feed/check.cgi?url=http%3A//eiro.github.io/atom.xml"><img src="http://validator.w3.org/feed/images/valid-atom.png" alt="[Valid Atom 1.0]" title="Validate my Atom 1.0 feed" /></a>
  </div>
<div class="grid-80"
    ><h1>Sympa Hackathon 1</h1><section><p>Le premier &quot;Sympa Hackathon&quot; a eu lieu les 4 et 5 novembre à l'antenne parisienne de <a href="http://www.inria.fr">l'INRIA</a>. Le présent compte-rendu est une compilation des idées dont j'ai pris note pendant et après l'évenement. Certaines de ces notes correspondent à des réflexions personnelles qui n'ont pas été livrées lors des réunions.</p>
<p>Ont participé</p>
<pre><code>* David Verdin et Etienne Méléard (RENATER)
* Guillaume Rousse (INRIA)
* Marc Chantreux (Université de Strasbourg)</code></pre>
<h1 id="retour-sur-les-usages-et-évolution-de-sympa">Retour sur les usages et évolution de sympa</h1>
<h2 id="les-nouveaux-usages-de-sympa-groupware">les nouveaux usages de sympa (groupware)</h2>
<p>Nous avons évoqué la vie des instances que nous gérons (à Strasbourg: presque 9400 listes réparties dans 17 robots) et observons unanimement des changements dans les usages et les attentes des utilisateurs relatives à sympa.</p>
<p>En effet, les usagers commandent aux listmasters des configurations avancées et font usage des outils périphériques à la liste de diffusion (les archives, les documents partagés, pages de réponses, circuit de modération, ...) et organisent de véritables groupes de travail autour des outils proposés malgré la relative austérité de l'interface.</p>
<p>La version prochaine de sympa (6.2) sera l'occasion de fournir une nouvelle interface plus aggréable: ca n'est qu'un début.</p>
<h2 id="lintégration-dans-les-systèmes-dinformation">L'intégration dans les systèmes d'information</h2>
<p>L'intégration dans les systèmes d'information ne se fait plus uniquement dans le sens de la consommation: sympa permet aux utilisateurs de produire de l'information valorisable dans tous le système (A Strasbourg, il est couplé avec Sogo et permet d'alimenter des groupes dans notre annuaire).</p>
<h1 id="sympa-7">Sympa 7</h1>
<h2 id="techniquement">Techniquement</h2>
<h3 id="pour-les-développeurs">Pour les développeurs</h3>
<p>Afin d'accélérer le développement de Sympa, il était nécessaire de rendre la base de code plus simple à comprendre et à faire évoluer. Ainsi, la réorganisation complète du code (travail de longue date de Guillaume Rousse) s'accompagne d'une large batterie de tests unitaires afin de détecter plus facilement les éventuels bugs et régréssions que les développements futurs pourraient introduire.</p>
<ul>
<li>Un refactoring complet sur lequel Guillaume Rousse travaille de longue date. L'idée n'est pas seulement de nettoyer et réorganiser le code: Guillaume introduit aussi des pratiques de développement qui manquaient généralement pour permettre aux développeurs de travailler plus confortablement et rapidement sans introduire de régréssions ou de bugs. Cette version se vera accompagnée d'une large batterie de tests unitaires.</li>
<li>Nous rendrons le fonctionnement interne de Sympa plus strict, il est acté que les fonctions qui n'aboutissent pas provoqueront un <code>die</code> plutot que de renvoyer <code>undef</code>.</li>
<li>Nous passsons sous git (toujours hebergé sur <a href="https://sourcesup.renater.fr/projects/sympa-ng/">sourcesup</a>), ce qui permettera de simplifier les experimentations et les contributions externes (je compte créer un repo sur <a href="http://github.com/">github</a> qui est utilisé par de nombreux développeurs Perl).</li>
<li>Nous experimentons l'introduction de modules CPAN afin de profiter du dynamisme de la communauté et nous défaire de la maintenance de code spécifique à sympa. Ainsi, <a href="https://metacpan.org/pod/Plack">plack</a> replacera le code FastCGI maison. J'ai aussi suggéré l'utilisation de <a href="https://metacpan.org/pod/Moo">Moo</a> puisque ce dernier est conforme aux décisions prises pour le passage d'arguments des methodes.</li>
<li>Concernant les dépendances que nous allons ajouter, Guillaume insiste sur un point: pas de XS qui qu'il en coute (afin de s'assurer que les déploiements de sympa restent simples et sans problème).</li>
<li>Je note a posteriori que nous n'avons pas parlé de la version minimale de Perl sur laquelle Sympa doit tourner. J'aurais tendance à pousser le curseur vers le haut (beaucoup de distributions récentes fournissent 5.18) mais de nombreux administrateurs de la communauté semblent bloqués par les Perl standards fournis par des versions assez anciennes de RHEL (que c'est triste!).</li>
</ul>
<h3 id="pour-les-administrateurs">Pour les administrateurs</h3>
<p>le wizzard va disparaitre au profit</p>
<p>Nous allons simplifier l'installation en remplacant le wizzard</p>
<ul>
<li>un module Perl <code>Sympa::Task</code> qui sera disponible sur le CPAN. Pour peu que le client CPAN soit correctement installé sur la machine cible, l'intégralité des dépendances de sympa s'installera par la saisie d'une seule commande standard (laissant au passage à l'adminitrateur le choix de l'utilisation de <code>local::lib</code>).</li>
<li>un sample de <code>sympa.conf</code> largement documenté qui pourra servir de base à la configuration.</li>
</ul>
<h2 id="fonctionnellement">Fonctionnellement</h2>
<p>Le terme Robot (qui était mal choisi de toute façon), doit lui aussi disparaitre mais nous n'avons là rien de tranché. quelques propositions faites par des collègues de l'université:</p>
<pre><code>Communauté, Tribu, Domaine 
Community , Tribe, Realm </code></pre>
<p>Votre avis nous intéresse: n'hésitez pas à réagir sur les listes de diffusion <a href="https://listes.renater.fr/sympa/info/sympa-users">sympa-users</a>, <a href="https://listes.renater.fr/sympa/info/sympa-fr">sympa-fr</a> ou en commentant ce post.</p>
<h1 id="travail-commencé-durant-le-workshop">Travail commencé durant le Workshop</h1>
<p>David et Guillaume ont travaillé sur le refactoring pendant qu'Etienne et moi nous chargions de:</p>
<ul>
<li>rendre sympa7 installable en l'état (afin d'avoir une version utilisable en pour test le plus rapidement possible)</li>
<li>installer et tester l'UI développé par l'université de Massey (Nouvelle-Zelande)</li>
<li>discutions autour d'un système de hooks ou de middleware pour la gestion des différents evenements de Sympa. L'idée est de permettre aux développeurs Perl de pouvoir développer des fonctionnalités sour la forme de modules. Etienne penche pour une approche de Hooks à la Drupal. Pour ma part, un cycle de vie aller-retour me semble plus pertinente et répandue (Plack et ses middleware, DOM Level 2 et le bubbling/capturing, la stack PAM, ...). La discution est restée ouverte. Quoi qu'il en soit: l'enrichissement des scenarii (déjà utilisé partout dans sympa) permetterait de dépasser de nombreuses restrictions actuelles.</li>
</ul>
<h1 id="liste-de-mes-attentes-en-vrac">Liste de mes attentes en vrac</h1>
<p>(discutées ou non lors du workshop, plus ou moins catégorisée par priorité)</p>
<ul>
<li>Améliorer la convivialité de l'interface et prioritairement</li>
<li>donner un aspect webforum aux archives et à la page de publication (toutes les fonctionnalités existent déjà dans l'interface actuelle)</li>
<li>permettre du drag and drop dans le depot de document partagé</li>
<li>simplifier la page d'administration de la liste (ajouter plusieurs modérateurs est par exemple une action tres malaisée pour le moment)</li>
<li>permettre facilement de mettre un répondeur en place depuis l'interface</li>
<li>Si possible, permettre aux utilisateurs de conserver l'ancienne interface (pour les utilisateurs les plus réticents au changement)</li>
<li>exposer les fonctionnalités de Sympa via une API REST et une spécification SPORE</li>
<li>utilisation de sympa pour alimenter des ACL de wiki, des groupes seafile, des conférences Jitsi</li>
<li>documentation: fournir un guide pour chacune des audiences que sont les développeurs, les administrateurs système, les listmasters et les usagers</li>
</ul>
<h1 id="notes-pour-plus-tard">Notes pour plus tard</h1>
<ul>
<li>expliquer le (VERP: Variable Enveloppe Return Path)</li>
<li>expliquer le tracking:
<ul>
<li>récuperer les accusés de réception</li>
<li>récuperer les mail delivery notification</li>
<li>utilisation des MDN (mail delivery notification) quand serveur accepte</li>
</ul></li>
</ul><span class="dynamic-px-width"></span></section></div> 
  </main>
</div> 
</body></html>
